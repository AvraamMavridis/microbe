var Microbe=function(a,e,b){e=void 0!==e?e:document;b=void 0!==b?b:null;if(1===a.nodeType)return this.create(a);if(/^<.+>$/.test(a))return this.create(a.substring(1,a.length-1));a=b?Array.isArray(b)?b:[b]:e.querySelectorAll(a);this.length=a.length;try{throw void 0;}catch(c){try{throw void 0;}catch(d){for(d=0,c=a.length;d<c;d++)try{throw void 0;}catch(f){try{throw void 0;}catch(g){g=d;f=c;try{$traceurRuntime.setProperty(this,g,a[$traceurRuntime.toProperty(g)])}finally{d=g,c=f}}}}}for(var h in $Microbe.prototype)try{throw void 0;
}catch(l){l=h,$Microbe.prototype.hasOwnProperty(l)&&$traceurRuntime.setProperty(a,l,$Microbe.prototype[$traceurRuntime.toProperty(l)])}return a},$Microbe=Microbe;
$traceurRuntime.createClass(Microbe,{each:function(a,e){"function"!==typeof a||e||(e=a,a=this);for(var b=0,c=this.iterator(a)[$traceurRuntime.toProperty(Symbol.iterator)](),d;!(d=c.next()).done;)try{throw void 0;}catch(f){f=d.value,e(f,b++)}return a},iterator:$traceurRuntime.initGeneratorFunction(function $__3(){var e,b,c=arguments;return $traceurRuntime.createGeneratorInstance(function(d){for(;;)switch(d.state){case 0:e=void 0!==c[0]?c[0]:this;b=0;d.state=7;break;case 7:d.state=b<e.length?1:-2;break;
case 1:return d.state=2,e[$traceurRuntime.toProperty(b++)];case 2:d.maybeThrow();d.state=7;break;default:return d.end()}},$__3,this)}),micro:function(a){return"[object Microbe]"===a.type?/^<.+>$/.test(a)?this.create(a.substring(1,a.length-1)):new $Microbe(a):a},toArray:function(){for(var a=[],e=this.iterator()[$traceurRuntime.toProperty(Symbol.iterator)](),b;!(b=e.next()).done;)try{throw void 0;}catch(c){c=b.value,a.push(c)}return a}},{});Microbe.prototype.type="[object Microbe]";
Microbe.prototype.append=function(a,e){e&&e.appendChild(a);a.length||(a=[a]);try{throw void 0;}catch(b){try{throw void 0;}catch(c){for(c=0,b=this.length;c<b;c++)try{throw void 0;}catch(d){try{throw void 0;}catch(f){f=c;d=b;try{try{throw void 0;}catch(g){try{throw void 0;}catch(h){for(h=0,g=a.length;h<g;h++)try{throw void 0;}catch(l){try{throw void 0;}catch(k){k=h;l=g;try{if(0!==f){var n=this[$traceurRuntime.toProperty(f)],m=a[$traceurRuntime.toProperty(k)].cloneNode(!0);m?n.appendChild(m):n.appendChild(a)}else{var q=
this[$traceurRuntime.toProperty(f)],p=a[$traceurRuntime.toProperty(k)];p?q.appendChild(p):q.appendChild(a)}}finally{h=k,g=l}}}}}}finally{c=f,b=d}}}}}return this};
Microbe.prototype.attr=function(a,e,b){var c,d,f;c=function(b){null===e?f(b):b.getAttribute?b.setAttribute(a,e):$traceurRuntime.setProperty(b,a,e)};d=function(b){return null===b.getAttribute(a)?b[$traceurRuntime.toProperty(a)]:b.getAttribute(a)};f=function(b){null===b.getAttribute(a)?delete b[$traceurRuntime.toProperty(a)]:b.removeAttribute(a)};if(void 0!==e){if(b)return c(b),this;try{throw void 0;}catch(g){try{throw void 0;}catch(h){for(h=0,g=this.length;h<g;h++)try{throw void 0;}catch(l){try{throw void 0;
}catch(k){k=h;l=g;try{c(this[$traceurRuntime.toProperty(k)])}finally{h=k,g=l}}}}}return this}b=[];try{throw void 0;}catch(n){try{throw void 0;}catch(m){for(m=0,n=this.length;m<n;m++)try{throw void 0;}catch(q){try{throw void 0;}catch(p){p=m;q=n;try{b.push(d(this[$traceurRuntime.toProperty(p)]))}finally{m=p,n=q}}}}}return 1===b.length?b[0]:b};
Microbe.prototype.children=function(a){a=function(a){return a.children};var e=[];try{throw void 0;}catch(b){try{throw void 0;}catch(c){for(c=0,b=this.length;c<b;c++)try{throw void 0;}catch(d){try{throw void 0;}catch(f){f=c;d=b;try{e.push(a(this[$traceurRuntime.toProperty(f)]))}finally{c=f,b=d}}}}}return 1===e.length?e[0]:e};
Microbe.prototype.create=function(a){if("[object String]"===Object.prototype.toString.call(a))try{throw void 0;}catch(e){try{throw void 0;}catch(b){try{throw void 0;}catch(c){b="";-1!==a.indexOf("#")&&(void 0===c&&(c=a),c=a.split("#")[1],c=c.split(".")[0]);e=a.split(".");try{throw void 0;}catch(d){try{throw void 0;}catch(f){for(f=1,d=e.length;f<d;f++)try{throw void 0;}catch(g){try{throw void 0;}catch(h){h=f;g=d;try{-1===e[$traceurRuntime.toProperty(h)].indexOf("#")&&(b+=" "+e[$traceurRuntime.toProperty(h)])}finally{f=
h,d=g}}}}}b=b.trim();a=a.split(/[#.]/)[0];a=document.createElement(a);""!==b&&(a.className=b);c&&(a.id=c.trim())}}}return new Microbe("","",a)};Microbe.prototype.first=function(){return 1===this.length?this:new Microbe("","",[this[0]])};
Microbe.prototype.getParentIndex=function(a){var e=function(a){return Array.prototype.indexOf.call(a.parentNode.children,a)},b=[];if(a)return b=e(a);try{throw void 0;}catch(c){try{throw void 0;}catch(d){for(d=0,c=this.length;d<c;d++)try{throw void 0;}catch(f){try{throw void 0;}catch(g){g=d;f=c;try{b.push(e(this[$traceurRuntime.toProperty(g)]))}finally{d=g,c=f}}}}}return b};
Microbe.prototype.html=function(a,e){var b=function(b){b.innerHTML=a},c=function(a){return a.innerHTML};if(a||""===a){if(e)return b(e),this;try{throw void 0;}catch(d){try{throw void 0;}catch(f){for(f=0,d=this.length;f<d;f++)try{throw void 0;}catch(g){try{throw void 0;}catch(h){h=f;g=d;try{b(this[$traceurRuntime.toProperty(h)])}finally{f=h,d=g}}}}}return this}b=[];try{throw void 0;}catch(l){try{throw void 0;}catch(k){for(k=0,l=this.length;k<l;k++)try{throw void 0;}catch(n){try{throw void 0;}catch(m){m=
k;n=l;try{b.push(c(this[$traceurRuntime.toProperty(m)]))}finally{k=m,l=n}}}}}return 1===b.length?b[0]:b};
Microbe.prototype.insertAfter=function(a,e){var b=function(b){a=this.micro.apply(this,[a]);b=this.micro.apply(this,[b]);var c;try{throw void 0;}catch(d){try{throw void 0;}catch(e){for(e=0,d=b.length;e<d;e++)try{throw void 0;}catch(f){try{throw void 0;}catch(g){g=e;f=d;try{try{throw void 0;}catch(p){c=this.getParentIndex(b[$traceurRuntime.toProperty(g)]),(p=b[$traceurRuntime.toProperty(g)].parentNode.children[$traceurRuntime.toProperty(c+1)])?p.parentNode.insertBefore(a[0].cloneNode(!0),p):b[$traceurRuntime.toProperty(g)].parentNode.appendChild(a[0].cloneNode(!0))}}finally{e=
g,d=f}}}}}};if(e)return b.apply(this,[e]),this;try{throw void 0;}catch(c){try{throw void 0;}catch(d){for(d=0,c=this.length;d<c;d++)try{throw void 0;}catch(f){try{throw void 0;}catch(g){g=d;f=c;try{b.apply(this,[this[$traceurRuntime.toProperty(g)]])}finally{d=g,c=f}}}}}return this};Microbe.prototype.last=function(){return 1===this.length?this:new Microbe("","",[this[$traceurRuntime.toProperty(this.length-1)]])};
Microbe.prototype.parent=function(a){a=function(a){return a.parentNode};var e=[];try{throw void 0;}catch(b){try{throw void 0;}catch(c){for(c=0,b=this.length;c<b;c++)try{throw void 0;}catch(d){try{throw void 0;}catch(f){f=c;d=b;try{e.push(a(this[$traceurRuntime.toProperty(f)]))}finally{c=f,b=d}}}}}return new Microbe("","",e)};
Microbe.prototype.remove=function(a){a&&a.parentNode.removeChild(a);try{throw void 0;}catch(e){try{throw void 0;}catch(b){for(b=0,e=this.length;b<e;b++)try{throw void 0;}catch(c){try{throw void 0;}catch(d){d=b;c=e;try{var f=this[$traceurRuntime.toProperty(d)];f.parentNode.removeChild(f)}finally{b=d,e=c}}}}}return this};
Microbe.prototype.text=function(a,e){var b=function(b){document.all?b.innerText=a:b.textContent=a},c=function(a){return document.all?a.innerText:a.textContent};if(a){if(e)return b(e),this;try{throw void 0;}catch(d){try{throw void 0;}catch(f){for(f=0,d=this.length;f<d;f++)try{throw void 0;}catch(g){try{throw void 0;}catch(h){h=f;g=d;try{b(this[$traceurRuntime.toProperty(h)])}finally{f=h,d=g}}}}}return this}b=[];try{throw void 0;}catch(l){try{throw void 0;}catch(k){for(k=0,l=this.length;k<l;k++)try{throw void 0;
}catch(n){try{throw void 0;}catch(m){m=k;n=l;try{b.push(c(this[$traceurRuntime.toProperty(m)]))}finally{k=m,l=n}}}}}return 1===b.length?b[0]:b};Microbe.prototype.addClass=function(a,e){if(e)return e.className+=0<e.className.length?" "+a:a,this;try{throw void 0;}catch(b){try{throw void 0;}catch(c){for(c=0,b=this.length;c<b;c++)try{throw void 0;}catch(d){try{throw void 0;}catch(f){f=c;d=b;try{var g=this[$traceurRuntime.toProperty(f)];g.className+=0<g.className.length?" "+a:a}finally{c=f,b=d}}}}}return this};
Microbe.prototype.css=function(a,e,b){var c=function(b){null===e?b.style.removeProperty(a):$traceurRuntime.setProperty(b.style,a,e)},d=function(b){return window.getComputedStyle(b).getPropertyValue(a)};if(void 0!==e){if(b)return c(b),this;try{throw void 0;}catch(f){try{throw void 0;}catch(g){for(g=0,f=this.length;g<f;g++)try{throw void 0;}catch(h){try{throw void 0;}catch(l){l=g;h=f;try{c(this[$traceurRuntime.toProperty(l)])}finally{g=l,f=h}}}}}return this}b=[];try{throw void 0;}catch(k){try{throw void 0;
}catch(n){for(n=0,k=this.length;n<k;n++)try{throw void 0;}catch(m){try{throw void 0;}catch(q){q=n;m=k;try{b.push(d(this[$traceurRuntime.toProperty(q)]))}finally{n=q,k=m}}}}}return 1===b.length?b[0]:b};Microbe.prototype.hasClass=function(a,e){var b=new RegExp("(^|\\s)"+a+"(\\s|$)","g"),c=function(a){return!!a.className.match(b)};if(e)return c(e);var d,f,g=[];d=0;for(f=this.length;d<f;d++)g.push(c(this[$traceurRuntime.toProperty(d)]));return g};
Microbe.prototype.removeClass=function(a,e){var b=new RegExp("(?:^| +)"+a+" *(?= +|$)","g"),c=function(a){a.className=a.className.replace(b,"").trim();0===a.classList.length&&a.removeAttribute("class")};if(e)return c(e),this;try{throw void 0;}catch(d){try{throw void 0;}catch(f){for(f=0,d=this.length;f<d;f++)try{throw void 0;}catch(g){try{throw void 0;}catch(h){h=f;g=d;try{c(this[$traceurRuntime.toProperty(h)])}finally{f=h,d=g}}}}}return this};
Microbe.prototype.toggleClass=function(a,e){var b=function(b){-1<b.className.indexOf(a)?Microbe.removeClass(a,b):Microbe.addClass(a,b)};if(e)return b(e),this;try{throw void 0;}catch(c){try{throw void 0;}catch(d){for(d=0,c=this.length;d<c;d++)try{throw void 0;}catch(f){try{throw void 0;}catch(g){g=d;f=c;try{b(this[$traceurRuntime.toProperty(g)])}finally{d=g,c=f}}}}}return this};
Microbe.prototype.bind=function(a,e,b){var c=function(b){b.addEventListener?b.addEventListener(a,e):b.attachEvent(a,e)};if(b)return c(b),this;try{throw void 0;}catch(d){try{throw void 0;}catch(f){for(f=0,d=this.length;f<d;f++)try{throw void 0;}catch(g){try{throw void 0;}catch(h){h=f;g=d;try{c(this[$traceurRuntime.toProperty(h)])}finally{f=h,d=g}}}}}return this};
Microbe.prototype.unbind=function(a,e,b){if(b)return b.removeEventListener(a,e),this;try{throw void 0;}catch(c){try{throw void 0;}catch(d){for(d=0,c=this.length;d<c;d++)try{throw void 0;}catch(f){try{throw void 0;}catch(g){g=d;f=c;try{this[$traceurRuntime.toProperty(g)].removeEventListener(a,e)}finally{d=g,c=f}}}}}return this};
Microbe.prototype.ready=function(a){document.addEventListener&&document.addEventListener("DOMContentLoaded",a,!1);if(/KHTML|WebKit|iCab/i.test(navigator.userAgent))try{throw void 0;}catch(e){e=setInterval(function(){/loaded|complete/i.test(document.readyState)&&(a(),clearInterval(e))},10)}window.onload=a};
Microbe.prototype.http=function(a){return new Promise(function(e,b){a||b(Error("No parameters given"));"string"===typeof a&&(a={url:a});var c=new XMLHttpRequest,d=a.method||"GET",f=a.url,g=JSON.stringify(a.data)||null,h=a.user||"",l=a.password||"",k=a.headers||null;c.onreadystatechange=function(){if(4===c.readyState)return c};c.onerror=function(){b(Error("Network error!"))};c.open(d,f,!0,h,l);if(k)if(Array.isArray(k))try{throw void 0;}catch(n){try{throw void 0;}catch(m){for(m=0,n=k.length;m<n;m++)try{throw void 0;
}catch(q){try{throw void 0;}catch(p){p=m;q=n;try{c.setRequestHeader(k[$traceurRuntime.toProperty(p)].header,k[$traceurRuntime.toProperty(p)].value)}finally{m=p,n=q}}}}}else c.setRequestHeader(k.header,k.value);c.send(g);c.onload=function(){200===c.status?e(c.response):b(Error(c.status))}})};Microbe.prototype.http.get=function(a){return this({url:a,method:"GET"})};Microbe.prototype.http.post=function(a,e){return this({url:a,data:e,method:"POST"})};
var \u00b5=function(){var a=function(a,b){return new Microbe(a,b)},e;for(e in Microbe.prototype)try{throw void 0;}catch(b){b=e,Microbe.prototype.hasOwnProperty(b)&&$traceurRuntime.setProperty(a,b,Microbe.prototype[$traceurRuntime.toProperty(b)])}return a}();
